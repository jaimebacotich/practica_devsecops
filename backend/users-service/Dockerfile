FROM node:22-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install -g npm@latest && npm ci --omit=dev

COPY src/ ./src/

EXPOSE 3001
CMD ["node", "src/server.js"]